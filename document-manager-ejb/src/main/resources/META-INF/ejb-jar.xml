<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ejb-jar PUBLIC "-//Sun Microsystems, Inc.//DTD Enterprise
JavaBeans 2.0//EN" "http://java.sun.com/dtd/ejb-jar_2_0.dtd">

<ejb-jar>
	<display-name>
	DocumentManager</display-name>
	<enterprise-beans>
	    <session>
    		<ejb-name>DocumentBean</ejb-name>
      		<home>es.caib.bpm.beans.home.DocumentHome</home>
      		<remote>es.caib.bpm.beans.remote.Document</remote>
      		<ejb-class>es.caib.bpm.beans.DocumentBean</ejb-class>
      		<session-type>Stateful</session-type>
      		<transaction-type>Container</transaction-type>
    	</session>
  	</enterprise-beans>

	<assembly-descriptor>
	  	<security-role>
			<role-name>tothom</role-name>			
		</security-role>

	  	<security-role>
			<role-name>SC_ADMINISTRADOR</role-name>			
		</security-role>

	  	<security-role>
			<role-name>BPM_INTERNAL</role-name>			
		</security-role>

		<method-permission>
			<role-name>tothom</role-name>
			<role-name>SC_ADMINISTRADOR</role-name>
			<role-name>BPM_INTERNAL</role-name>	
			
			<method>
				<ejb-name>DocumentBean</ejb-name>
				<method-name>*</method-name>
			</method>
		</method-permission>
    	
    	
    	<container-transaction>
      		<method>
        		<ejb-name>DocumentBean</ejb-name>
        		<method-name>*</method-name>
      		</method>
      		<trans-attribute>RequiresNew</trans-attribute>
    	</container-transaction>
  	</assembly-descriptor>
</ejb-jar>
