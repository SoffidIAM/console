<?xml version="1.0" encoding="UTF-8"?>

<zkib-model>
	<datanode name="auditories">
		<finder name="auditoria" type="auditoria">
			<ejb-finder jndi="java:comp/env/ejb/AuditoriaEJB"
				method="findAuditoriesByCriteri" if="${queryEnabled}"> <!-- audit:query -->
				<parameter value="${data}"/>
				<parameter value="${dataFi}"/>
				<parameter value="${autor}"/>
				<parameter value="${objecte}"/>
				<parameter value="${usuari}"/>
				<parameter value="${objecteAuditat}"/>
				<parameter value="${valorOA}"/>
				<parameter value="${accio}"/>
			</ejb-finder>
			<new-instance-bean className="es.caib.seycon.ng.comu.Auditoria">
			</new-instance-bean>
		</finder>
	</datanode>
	
	<datanode name="auditoria">
		<ejb-handler jndi="java:comp/env/ejb/AuditoriaEJB">
			<insert-method method="create" returnBean="true">
				<parameter value="${instance}"/>
			</insert-method>
			<delete-method method="delete">
				<parameter value="${instance}"/>
			</delete-method>
			<update-method method="update">
				<parameter value="${instance}"/>
			</update-method>
		</ejb-handler>
	</datanode>
	
</zkib-model>
