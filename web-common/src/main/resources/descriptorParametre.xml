<?xml version="1.0" encoding="UTF-8"?>

<zkib-model>

	<datanode name="parameters">
		<finder name="parameter" type="parameter">
			<ejb-finder jndi="openejb:/local/soffid.ejb.com.soffid.iam.service.ConfigurationService"
				method="findConfigurationByFilter"> <!-- parameter:query -->
				<parameter value="${codi}"/>
				<parameter value="${valor}"/>
				<parameter value="${descripcio}"/>
				<parameter value="${xarxa}"/>
			</ejb-finder>
			<new-instance-bean
				className="com.soffid.iam.api.Configuration">
			</new-instance-bean>
		</finder>
	</datanode>	
	
	<datanode name="parameter">
		<ejb-handler jndi="openejb:/local/soffid.ejb.com.soffid.iam.service.ConfigurationService">
			<insert-method method="create" returnBean="true">
				<parameter value="${instance}" />
			</insert-method>
			<delete-method method="delete">
				<parameter value="${instance}" />
			</delete-method>
			<update-method method="update">
				<parameter value="${instance}" />
			</update-method>
		</ejb-handler>
		<validator>
			<attribute-validator expr="${instance.value}" notNull="true" friendlyName="parametres.ValueValidation"/>
			<attribute-validator expr="${instance.code}" notNull="true" friendlyName="parametres.CodiValidation"/>
		</validator>
	</datanode>
	
</zkib-model>
