<?xml version="1.0" encoding="UTF-8"?>

<zkib-model>

	<datanode name="applications">
		<finder name="role" type="role" >
			<ejb-finder jndi="java:/module/ApplicationService-v2" method="findRoleByTextAndFilterAsync" 
				if = "${queryText != null  || query != null}">
				<parameter value="${queryText}"/>
				<parameter value="${query}"/>
			</ejb-finder>
			<new-instance-bean className="com.soffid.iam.api.Role"></new-instance-bean>
		</finder>
		
		<finder name="grant" type="grant" >
			<ejb-finder jndi="java:/module/ApplicationService-v2" method="findRedundantRoles" 
				if = "${searchRedundant != null}">
				<parameter value="${query}"/>
			</ejb-finder>
			<new-instance-bean className="com.soffid.iam.api.Role"></new-instance-bean>
		</finder>
	</datanode>

	<datanode name="role" transient="true"/>
	
	
	<datanode name="grant">
		<ejb-handler jndi="java:/module/ApplicationService-v2">
			<insert-method method="create" returnBean="true">
				<parameter value="${instance}" />
			</insert-method>
			<delete-method method="delete">
				<parameter value="${instance}" />
			</delete-method>
			<update-method method="update">
				<parameter value="${instance}" />
			</update-method>
		</ejb-handler>
	</datanode>

	
</zkib-model>
