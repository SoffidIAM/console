<?xml version="1.0" encoding="UTF-8"?>

<zkib-model>

	<datanode name="servers">		
		<finder name="server" type="server">
			<ejb-finder jndi="java:comp/env/ejb/SeyconServerEJB"
				method="getSeyconServersStatus" if = "${queryEnabled}">  <!-- monitor:server:list -->
			</ejb-finder>
			<new-instance-bean
				className="es.caib.seycon.ng.comu.SeyconServerInfo">
			</new-instance-bean>			
		</finder>
		<finder name="tasquespendents" type="tascapendent">
			<ejb-finder jndi="java:comp/env/ejb/SeyconServerEJB"
				method="getPendingTasksInfo" if = "${queryEnabled}">  <!-- monitor:agent:list  -->
			</ejb-finder>
			<new-instance-bean
				className="es.caib.seycon.ng.comu.SeyconServerInfo">
			</new-instance-bean>			
		</finder>		
	</datanode>	
	
	<datanode name="server">
		<finder name="agentsserver" type="agentserver"> <!-- monitor:agent:list -->
			<ejb-finder jndi="java:comp/env/ejb/SeyconServerEJB"
				method="getServerAgentStatus" if = "${queryAgentsEnabled}">
				<parameter value="${urlserver}"/>
			</ejb-finder>			
			<new-instance-bean className="es.caib.seycon.ng.comu.AgentStatusInfo" /> 
		</finder>
		<finder name="tasquesserver" type="tascaserver"> <!-- monitor:agent:list -->
			<ejb-finder jndi="java:comp/env/ejb/SeyconServerEJB"
				method="getServerTasks" if = "${queryTasquesEnabled}">
				<parameter value="${urlserver}"/>
			</ejb-finder>			
			<new-instance-bean className="es.caib.seycon.ng.comu.Tasca" /> 
		</finder>	
		<finder name="tasquesagentserver" type="tascaagentserver"> <!-- monitor:agent:list-->
			<ejb-finder jndi="java:comp/env/ejb/SeyconServerEJB"
				method="getAgentTasks" if = "${queryTasquesEnabled}">
				<parameter value="${urlserver}"/>
				<parameter value="${codiAgent}"/>
			</ejb-finder>			
			<new-instance-bean className="es.caib.seycon.ng.comu.Tasca" /> 
		</finder>
		<finder name="servidorsagents" type="servidorsagents"> <!-- monitor:server:list-->
			<ejb-finder jndi="java:comp/env/ejb/SeyconServerEJB"
				method="getSeyconServerInfo" if = "${queryServerResetEnabled}">
				<parameter value="${urlserver}"/>
				<parameter value="agentServersInfo"/>
				<parameter value="${params}"/>
			</ejb-finder>			
			<new-instance-bean className="es.caib.seycon.ng.comu.SeyconServerInfo" />
		</finder>		
		<ejb-handler jndi="java:comp/env/ejb/SeyconServerEJB"/>
	</datanode>
	
	<datanode name="agentserver"/>
	
	<datanode name="tascaserver"/>
	
	<datanode name="tascapendent"/>
	
	<datanode name="tascaagentserver"/>
	
	<datanode name="servidorsagents"/>

</zkib-model>