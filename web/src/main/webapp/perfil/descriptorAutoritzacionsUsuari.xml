<?xml version="1.0" encoding="UTF-8"?>

<zkib-model>
	<datanode name="autoritzacionsUsuari">
		<finder name="autoritzacio" type="autoritzacioRol">   <!-- tothom -->
			<ejb-finder jndi="java:comp/env/ejb/AutoritzacioRolsEJB"
				method="getDescriptionUserAuthorizations">
			</ejb-finder>
		</finder>
	</datanode>

	<datanode name="autoritzacioRol" >
		<custom-attribute name="valors">
		    if (instance.valorDominiRolUsuari == null)
		       return "";
		       
			StringBuffer sb = new StringBuffer();
			for (es.caib.seycon.ng.comu.ValorDomini vd: instance.valorDominiRolUsuari)
			{
				if (vd.valor != null)
				{
					if (sb.length() > 0)
						sb.append (", ");
					sb.append (vd.valor);
				}
			}
			return sb.toString (); 
		</custom-attribute>
	</datanode>

</zkib-model>
